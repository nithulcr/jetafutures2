<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

<style>

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0b1e3d;
  color:#fff;
}

.community-section{
  padding:120px 0;
}

.community-wrapper{
  width:90%;
  margin:auto;
  display:flex;
}

/* ================= LEFT TIMELINE ================= */

.timeline{
  width:150px;
  height:80vh;              /* fixed height */
  top:100px;                /* âœ… sticky at 100px */
  display:flex;
  flex-direction:column;
  position:sticky;
  align-items: center;
}

.timeline::before{
  content:"";
  position:absolute;
  left:50%;
  transform: translateX(-50%);
  top:0;
  bottom:0;
  width:2px;
  background:#3d5ccc;
  box-shadow:0 0 10px #4da3ff85;

}

.timeline-item{
  position:relative;
  height:70px;             /* default height */
  display:flex;
  align-items:flex-start;
  transition:height 0.4s ease;
}

.timeline-dot{
  position:absolute;
  left:50%;
  transform: translateX(-50%);
  width:14px;
  height:14px;
  border-radius:50%;
  background:#3D5CCC;
  transition:0.3s;
  border:3px solid #718ff9;

}

.timeline-item span{
  font-size: 14px;
    transition: 0.3s;
    margin-top: -37px;
    background: #0b1e3d;
    padding: 10px;
    z-index: 99999999;
    margin-left: -5px;
  
}

.timeline-item.active .timeline-dot{
  border:3px solid #ffffff;
}

.timeline-item.active span{
  opacity:1;
}

/* ================= RIGHT SIDE ================= */

.accordion-wrapper{
  flex:1;
  padding-left:60px;
}

.accordion-item{
  margin-bottom:200px;
}

.accordion-header{
  font-size:26px;
  margin-bottom:20px;
}

.accordion-content{
  height:0;
  overflow:hidden;
  opacity:0;
}

.accordion-content-inner{
  background:rgba(255,255,255,0.05);
  padding:25px;
  border-radius:12px;
}

</style>
</head>

<body>

<section class="community-section">

<div class="community-wrapper">

  <!-- LEFT TIMELINE -->
  <div class="timeline" id="timeline">

    <div class="timeline-item active"><div class="timeline-dot"></div><span>Community</span></div>
    <div class="timeline-item"><div class="timeline-dot"></div><span>Diffrent</span></div>
    <div class="timeline-item"><div class="timeline-dot"></div><span>Community</span></div>
    <div class="timeline-item"><div class="timeline-dot"></div><span>Clubs</span></div>
    <div class="timeline-item"><div class="timeline-dot"></div><span>Real Edge</span></div>
    <div class="timeline-item"><div class="timeline-dot"></div><span>Trust</span></div>
    <div class="timeline-item"><div class="timeline-dot"></div><span>Join</span></div>



  </div>

  <!-- RIGHT ACCORDION -->
  <div class="accordion-wrapper">

    <div class="accordion-item"><div class="accordion-header">Accordion 1</div><div class="accordion-content"><div class="accordion-content-inner">Content 1</div></div></div>
    <div class="accordion-item"><div class="accordion-header">Accordion 2</div><div class="accordion-content"><div class="accordion-content-inner">Content 2</div></div></div>
    <div class="accordion-item"><div class="accordion-header">Accordion 3</div><div class="accordion-content"><div class="accordion-content-inner">Content 3</div></div></div>
    <div class="accordion-item"><div class="accordion-header">Accordion 4</div><div class="accordion-content"><div class="accordion-content-inner">Content 4</div></div></div>
    <div class="accordion-item"><div class="accordion-header">Accordion 4</div><div class="accordion-content"><div class="accordion-content-inner">Content 4</div></div></div>

    <div class="accordion-item"><div class="accordion-header">Accordion 4</div><div class="accordion-content"><div class="accordion-content-inner">Content 4</div></div></div>

    <div class="accordion-item"><div class="accordion-header">Accordion 4</div><div class="accordion-content"><div class="accordion-content-inner">Content 4</div></div></div>

    
  </div>

</div>

</section>

<script>

gsap.registerPlugin(ScrollTrigger);

const timelineItems = document.querySelectorAll(".timeline-item");
const accordionItems = document.querySelectorAll(".accordion-item");

openSection(0);

accordionItems.forEach((item,index)=>{
  ScrollTrigger.create({
    trigger:item,
    start:"center center",
    onEnter:()=>openSection(index),
    onEnterBack:()=>openSection(index)
  });
});

function openSection(index){

  const timeline = document.getElementById("timeline");
  const totalHeight = timeline.offsetHeight; // 80vh in px
  const defaultHeight = 70;
  const totalItems = timelineItems.length;

  const activeHeight = totalHeight - (defaultHeight * (totalItems - 1));

  timelineItems.forEach((item,i)=>{

    if(i===index){
      item.classList.add("active");
      gsap.to(item,{
        height:activeHeight,
        duration:0.4,
        ease:"power2.out"
      });
    }else{
      item.classList.remove("active");
      gsap.to(item,{
        height:defaultHeight,
        duration:0.4,
        ease:"power2.out"
      });
    }

  });

  accordionItems.forEach((item,i)=>{
    const content = item.querySelector(".accordion-content");

    if(i===index){
      gsap.to(content,{
        height:content.scrollHeight,
        opacity:1,
        duration:0.5
      });
    }else{
      gsap.to(content,{
        height:0,
        opacity:0,
        duration:0.4
      });
    }
  });

}

</script>

</body>
</html>
